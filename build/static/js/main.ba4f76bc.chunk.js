(this["webpackJsonpportolio-front-end"]=this["webpackJsonpportolio-front-end"]||[]).push([[0],{28:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(21),c=n.n(s),o=(n(28),n(2)),i=n(4),l=n(3),u=n(22),h=n(0);function d(e){return Object(h.jsx)("nav",{children:Object(h.jsxs)("div",{className:"wrapper",children:[Object(h.jsx)("button",{onClick:function(){return e.openPage("home")},className:"home-button",children:"PORTFOLIO OPTIMISER"}),Object(h.jsx)("div",{className:"right",children:e.user?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:function(){return e.openPage("portfolio")},children:"My Portfolio"}),Object(h.jsx)("button",{onClick:function(){return e.openPage("optimise")},children:"Optimise"}),Object(h.jsx)("button",{onClick:function(){return e.logout()},children:"Logout"})]}):Object(h.jsx)("button",{onClick:function(){return e.openPage("account")},children:"Login"})})]})})}function p(e){var t=e.children,n=e.closeEarly;return Object(h.jsx)("div",{className:"wrapper",children:Object(h.jsxs)("div",{className:t.error?"pop-up red":"pop-up green",children:[t.message,Object(h.jsx)("button",{className:"close-button",onClick:function(){return n(t)},children:Object(h.jsx)("i",{className:"fa fa-times"})})]})})}var j=n.p+"static/media/visualisation.53cc120e.mp4";function m(e){var t=e.openPage;return Object(h.jsxs)("div",{className:"home wrapper",children:[Object(h.jsx)("h1",{children:"PORTFOLIO OPTIMISER"}),Object(h.jsxs)("h2",{children:["Helping you to invest only in the market's most",Object(h.jsx)("span",{className:"blue",children:" optimal"})," porfolios..."]}),Object(h.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,children:Object(h.jsx)("source",{src:j,type:"video/mp4"})}),Object(h.jsx)("button",{onClick:function(){return t("account")},children:"Start Investing Now!"})]})}var b=n(8),f=n(5),O=n.n(f),g=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).handleChange=function(e){r.setState(Object(b.a)({},e.target.name,e.target.value))},r.loginUser=function(e){e.preventDefault();var t=r.props,n=t.openPage,a=t.login,s=t.popUp,c={email:r.state.email,password:r.state.password};O.a.post("".concat("https://www.gh0stmod.com","/user/login"),{user:c},{crossDomain:!1}).then((function(e){a(e.data.shortAccessToken,e.data.fullAccessToken),n("portfolio")})).catch((function(e){if(!e.response)return s("Failed to connect to server, please try again soon.",!0);var t=e.response.status;return s(404===t||401===t?"The account information you provided is incorrect.":412===t?"You must verify your email before logging in.":"Unknown Error, please contact alantollett@outlook.com.",!0)}))},r.render=function(){return Object(h.jsxs)("div",{className:"grid-item",children:[Object(h.jsx)("h1",{children:"Sign In"}),Object(h.jsxs)("form",{children:[Object(h.jsx)("label",{children:"Email"}),Object(h.jsx)("input",{type:"email",name:"email",onChange:r.handleChange}),Object(h.jsx)("label",{children:"Password"}),Object(h.jsx)("input",{type:"password",name:"password",onChange:r.handleChange}),Object(h.jsx)("button",{onClick:r.loginUser,children:"Sign In"})]})]})},r.state={email:null,password:null},r}return n}(a.a.Component),v=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).handleChange=function(e){r.setState(Object(b.a)({},e.target.name,e.target.value))},r.areInputsValid=function(){var e=r.state,t=e.email,n=e.email2,a=e.password,s=e.password2,c=r.props.popUp;return null==t||null==n||t!==n?(c("Please enter two matching emails.",!0),!1):null==a||null==s||a!==s?(c("Please enter two matching passwords.",!0),!1):!!new RegExp("^(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})").test(a)||(c("Your password must contain at least one symbol, uppercase, and numerical character, and be at least 8 characters long.",!0),!1)},r.registerUser=function(e){e.preventDefault();var t=r.props.popUp,n=r.state,a=n.email,s=n.password;if(r.areInputsValid()){var c={email:a,password:s};O.a.post("".concat("https://www.gh0stmod.com","/user/register"),{user:c},{crossDomain:!1}).then((function(e){t("Please check your email to verify your account.",!1)})).catch((function(e){if(!e.response)return t("Failed to connect to server, please try again soon.",!0);var n=e.response.status;return t(409===n?"An account with that email address already exists.":500===n?"Internal Server Error, please contact alantollett@outlook.com.":"Unknown Error, please contact alantollett@outlook.com.",!0)}))}},r.render=function(){return Object(h.jsxs)("div",{className:"grid-item",children:[Object(h.jsx)("h1",{children:"Sign Up"}),Object(h.jsxs)("form",{children:[Object(h.jsx)("label",{children:"Email"}),Object(h.jsx)("input",{type:"email",name:"email",onChange:r.handleChange}),Object(h.jsx)("label",{children:"Confirm Email"}),Object(h.jsx)("input",{type:"email2",name:"email2",onChange:r.handleChange}),Object(h.jsx)("label",{children:"Password"}),Object(h.jsx)("input",{type:"password",name:"password",onChange:r.handleChange}),Object(h.jsx)("label",{children:"Confirm Password"}),Object(h.jsx)("input",{type:"password",name:"password2",onChange:r.handleChange}),Object(h.jsx)("button",{onClick:r.registerUser,children:"Sign Up"})]})]})},r.state={email:null,email2:null,password:null,password2:null},r}return n}(a.a.Component);function x(e){var t=e.login,n=e.openPage,r=e.popUp;return Object(h.jsx)("div",{className:"account wrapper",children:Object(h.jsxs)("div",{className:"grid",children:[Object(h.jsx)(g,{login:t,openPage:n,popUp:r}),Object(h.jsx)(v,{popUp:r})]})})}var y=n(6),k=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){var e=this.props,t=e.closeFunc,n=e.title,r=e.children;return Object(h.jsx)("div",{className:"modal-background",children:Object(h.jsxs)("div",{className:"modal",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsx)("h1",{style:{color:"white",margin:"0"},children:n}),Object(h.jsx)("button",{onClick:t,className:"close-button",children:Object(h.jsx)("i",{className:"fa fa-times"})})]}),Object(h.jsx)("div",{className:"modal-body",children:r})]})})}}]),n}(a.a.Component),S=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).render=function(){var e=r.state,t=e.companies,n=e.error,a=r.props.handleChange;return n?Object(h.jsx)("div",{children:n.message}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("label",{children:"Company"}),t?Object(h.jsxs)("select",{name:"ticker",onChange:a,children:[Object(h.jsx)("option",{value:"Select Ticker",children:"Select Company"}),t.map((function(e,t){return Object(h.jsx)("option",{value:e.Symbol,children:e.Name},t)}))]}):Object(h.jsx)("p",{children:"Loading Companies..."})]})},r.state={companies:null,error:null},r}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=this;O.a.get("".concat("https://www.gh0stmod.com","/data/companies")).then((function(t){e.setState({companies:t.data})})).catch((function(t){e.setState({error:t})}))}}]),n}(a.a.Component),w=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).handleChange=function(e){return r.setState(Object(b.a)({},e.target.name,e.target.value))},r.buyShares=function(e){e.preventDefault();var t=r.state,n=t.numShares,a=t.ticker,s=r.props,c=s.closeFunc,o=s.user,i=s.popUp;if(!a||n<=0)return c(),void i("You must select a ticker and a positive number of shares.",!0);var l={ticker:r.state.ticker,numShares:r.state.numShares};O.a.post("".concat("https://www.gh0stmod.com","/user/investments"),{investment:l},{headers:{Authorization:"Bearer ".concat(o.token)}}).then((function(e){c(),i("Share(s) Purchased Successfully",!1)})).catch((function(e){console.log(e)}))},r.state={ticker:null,numShares:0},r}return Object(y.a)(n,[{key:"render",value:function(){var e=this.props.closeFunc;return Object(h.jsx)(k,{closeFunc:e,title:"Buy Share(s)",children:Object(h.jsxs)("form",{children:[Object(h.jsx)(S,{handleChange:this.handleChange}),Object(h.jsx)("label",{children:"Number of Shares"}),Object(h.jsx)("input",{type:"number",name:"numShares",min:"1",onChange:this.handleChange}),Object(h.jsxs)("button",{onClick:this.buyShares,children:["Buy ",this.state.numShares," Shares"]})]})})}}]),n}(a.a.Component),C=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).sellShare=function(t){var n=e.props,r=n.user,a=n.popUp,s=n.updateInvestments,c={ticker:t,numShares:-1};O.a.post("".concat("https://www.gh0stmod.com","/user/investments"),{investment:c},{headers:{Authorization:"Bearer ".concat(r.token)}}).then((function(e){a("Share(s) Sold Successfully",!1),s()})).catch((function(e){console.log(e)}))},e.render=function(){var t=e.props.investments;return Object(h.jsxs)("table",{children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Name"}),Object(h.jsx)("th",{children:"Ticker"}),Object(h.jsx)("th",{children:"Number of Shares"}),Object(h.jsx)("th",{children:"Price per Share"}),Object(h.jsx)("th",{children:"Current Value"}),Object(h.jsx)("th",{children:"Sell"})]})}),Object(h.jsx)("tbody",{children:t.map((function(t,n){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t.name}),Object(h.jsx)("td",{children:t.ticker}),Object(h.jsx)("td",{children:t.numShares}),Object(h.jsxs)("td",{children:["$",t.sharePrice]}),Object(h.jsxs)("td",{children:["$",Number(t.sharePrice*t.numShares).toFixed(2)]}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{onClick:function(){return e.sellShare(t.ticker)},children:"Sell A Share"})})]},n)}))})]})},e}return n}(a.a.Component),P=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).updateInvestments=function(){r.setState({investments:null}),O.a.get("".concat("https://www.gh0stmod.com","/user/investments"),{headers:{Authorization:"Bearer ".concat(r.props.user.token)}}).then((function(e){r.setState({investments:e.data})})).catch((function(e){r.setState({error:e})}))},r.openModal=function(){r.setState({modalVisible:!0})},r.closeModal=function(){r.setState({modalVisible:!1}),r.updateInvestments()},r.render=function(){var e=r.state,t=e.investments,n=e.error,a=e.modalVisible,s=r.props,c=s.user,o=s.popUp;return n?Object(h.jsx)("div",{children:n.message}):Object(h.jsxs)("div",{className:"investments",children:[Object(h.jsx)("h1",{children:"My Investments"}),a?Object(h.jsx)(w,{closeFunc:r.closeModal,user:c,popUp:o}):null,Object(h.jsx)("button",{className:"buy-button",onClick:function(){return r.openModal()},children:"Buy Share(s)"}),t?Object(h.jsx)(C,{investments:t,user:c,popUp:o,updateInvestments:r.updateInvestments}):Object(h.jsx)("div",{children:"Downloading Investments Data..."})]})},r.state={modalVisible:!1,error:null,investments:null},r}return Object(y.a)(n,[{key:"componentDidMount",value:function(){this.updateInvestments()}}]),n}(a.a.Component),N=n(9),U=n.n(N),D=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).getWorthsFiltered=function(){var e=r.state,t=e.worths,n=e.range,a=new Date;if(a.setHours(0),a.setMinutes(0),a.setSeconds(0),"w"===n){var s=a.getDay()-1;a.setDate(a.getDate()-s)}else if("m"===n){var c=a.getDate()-1;a.setDate(a.getDate()-c)}else"y"===n&&(a.setMonth(0),a.setDate(1));return"max"===n&&(a=new Date(t[0].date)),t.filter((function(e){var t=new Date(e.date);return 0!==t.getDay()&&6!==t.getDay()&&t>=a}))},r.changeRange=function(e){return r.setState({range:e})},r.render=function(){var e=r.state,t=e.error,n=e.range,a=e.worths;if(t)return Object(h.jsx)("div",{children:t.message});if(a){if(0===a.length)return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"My Portfolio"}),Object(h.jsx)("h2",{children:"No data yet..."})]});var s=r.getWorthsFiltered(),c=s.map((function(e){return new Date(e.date)})),o=s.map((function(e){return e.amount})),i=o[0]>o[o.length-1]?"red":"green";return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"My Portfolio"}),Object(h.jsxs)("h2",{children:["$",a[a.length-1].amount]}),Object(h.jsxs)("div",{className:"ranges",children:[Object(h.jsx)("button",{onClick:function(){return r.changeRange("d")},className:"d"===n?"active":null,children:"1D"}),Object(h.jsx)("button",{onClick:function(){return r.changeRange("w")},className:"w"===n?"active":null,children:"1W"}),Object(h.jsx)("button",{onClick:function(){return r.changeRange("m")},className:"m"===n?"active":null,children:"1M"}),Object(h.jsx)("button",{onClick:function(){return r.changeRange("y")},className:"y"===n?"active":null,children:"1Y"}),Object(h.jsx)("button",{onClick:function(){return r.changeRange("max")},className:"max"===n?"active":null,children:"MAX"})]}),Object(h.jsx)(U.a,{className:"graph",data:[{x:c,y:o,type:"scatter",mode:"markers&lines",line:{color:i},text:o,hovertemplate:"<b>%{x}<br>$%{y}</b><extra></extra>"}],layout:{hovermode:"closest",hoverlabel:{bgcolor:"#FFF"},margin:{l:50,r:50,b:50,t:10}},useResizeHandler:!0,config:{displayModeBar:!1},style:{width:"100%"}})]})}return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"My Portfolio"}),Object(h.jsx)("h2",{children:"Loading..."})]})},r.state={error:null,worths:null,range:"max"},r}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=this;O.a.get("".concat("https://www.gh0stmod.com","/user/worths"),{headers:{Authorization:"Bearer ".concat(this.props.user.token)}}).then((function(t){e.setState({worths:t.data})})).catch((function(t){e.setState({error:t})}))}}]),n}(a.a.Component);function F(e){var t=e.user,n=e.popUp;return Object(h.jsxs)("div",{className:"portfolio wrapper",children:[Object(h.jsx)(D,{user:t}),Object(h.jsx)(P,{user:t,popUp:n})]})}var z=n(11),I=n.n(z),M=n(23),R=n(12),A=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).loadRequiredInvestments=function(){var e=r.state.userInvestments,t=r.props.portfolio,n=t.tickers,a=t.weights,s=null;if(e){var c=a.map((function(e){return 100*e})),o=r.findGCD(c);s=(s=(c=c.map((function(e){return e/o}))).map((function(t,r){var a=n[r],s=t,c=e.filter((function(e){return e.ticker===a}));return c.length>0&&(s-=c[0].numShares),{ticker:n[r],numShares:s}}))).filter((function(e){return 0!==e.numShares}));var i,l=Object(R.a)(e);try{for(l.s();!(i=l.n()).done;){var u=i.value;n.includes(u.ticker)||s.push({ticker:u.ticker,numShares:-u.numShares})}}catch(h){l.e(h)}finally{l.f()}r.setState({investmentsRequired:s,toBuy:s.filter((function(e){return e.numShares>0})),toSell:s.filter((function(e){return e.numShares<0}))})}},r.obtainPortfolio=Object(M.a)(I.a.mark((function e(){var t,n,a,s,c,o,i,l;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.props,n=t.closeFunc,a=t.popUp,s=t.user,c=r.state.investmentsRequired,o=Object(R.a)(c),e.prev=3,o.s();case 5:if((i=o.n()).done){e.next=11;break}return l=i.value,e.next=9,O.a.post("".concat("https://www.gh0stmod.com","/user/investments"),{investment:l},{headers:{Authorization:"Bearer ".concat(s.token)}}).catch((function(e){console.log(e)}));case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),o.e(e.t0);case 16:return e.prev=16,o.f(),e.finish(16);case 19:n(),a("Portfolio Obtained Successfully",!1);case 21:case"end":return e.stop()}}),e,null,[[3,13,16,19]])}))),r.state={userInvestments:null,investmentsRequired:null},r}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=this;O.a.get("".concat("https://www.gh0stmod.com","/user/investments"),{headers:{Authorization:"Bearer ".concat(this.props.user.token)}}).then((function(t){e.setState({userInvestments:t.data}),e.loadRequiredInvestments()})).catch((function(t){e.setState({error:t})}))}},{key:"gcd",value:function(e,t){return 0===e?t:this.gcd(t%e,e)}},{key:"findGCD",value:function(e){for(var t=e[0],n=1;n<e.length;n++)if(1===(t=this.gcd(e[n],t)))return 1;return t}},{key:"render",value:function(){var e=this.state,t=e.toBuy,n=e.toSell,r=e.userInvestments,a=this.props.closeFunc;return Object(h.jsx)(k,{closeFunc:a,title:"Obtain Portfolio",children:r?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"To obtain this portfolio you must..."}),t&&0!==t.length?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{children:"Buy..."}),Object(h.jsx)("ul",{children:t.map((function(e,t){return Object(h.jsxs)("li",{className:"green",children:[e.numShares," share(s) in ",e.ticker,"."]},t)}))})]}):Object(h.jsx)("h2",{children:"Buy Nothing!"}),n&&0!==n.length?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{children:"And Sell..."}),Object(h.jsx)("ul",{children:n.map((function(e,t){return Object(h.jsxs)("li",{className:"red",children:[Math.abs(e.numShares)," share(s) in ",e.ticker,"."]},t)}))})]}):Object(h.jsx)("h2",{children:"And Sell Nothing!"}),Object(h.jsx)("button",{onClick:this.obtainPortfolio,children:"Obtain Portfolio"})]}):Object(h.jsx)("div",{className:"loading",children:"Calculating..."})})}}]),n}(a.a.Component),B=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).getDatasets=function(){var e=r.props.settings,t=r.state.portfolios,n=t.filter((function(e){return e.efficient})).map((function(t){return t[e.x]})),a=t.filter((function(e){return e.efficient})).map((function(t){return t[e.y]})),s=t.filter((function(e){return e.efficient})).map((function(t){return t[e.z]})),c={customdata:t,x:n,y:a,z:s,text:t.map((function(e){return e.asString})),type:"scatter3d",mode:"markers",marker:{color:"gold",size:5},hovertemplate:"<b>".concat(e.z,": %{z}%</b><br>")+"<b>".concat(e.x,": %{x}%</b><br>")+"<b>".concat(e.y,": %{y}%</b><br>")+"%{text}<br><b>Click for more details.</b><extra></extra>"},o=[c];if(!e.optimalOnly){var i=t.filter((function(e){return!e.efficient})).map((function(t){return t[e.x]})),l=t.filter((function(e){return!e.efficient})).map((function(t){return t[e.y]})),u=t.filter((function(e){return!e.efficient})).map((function(t){return t[e.z]})),h=JSON.parse(JSON.stringify(c));h.x=i,h.y=l,h.z=u,h.marker={color:"blue",size:5},o.push(h)}return o},r.openPortfolio=function(e){r.setState({portfolio:e})},r.closePortfolio=function(){r.setState({portfolio:null})},r.render=function(){var e=r.props,t=e.settings,n=e.popUp,a=e.user,s=r.state,c=s.portfolios,o=s.error,i=s.portfolio;return o?Object(h.jsx)("div",{children:o.message}):c?Object(h.jsxs)(h.Fragment,{children:[i?Object(h.jsx)(A,{popUp:n,closeFunc:r.closePortfolio,portfolio:i,user:a}):null,Object(h.jsxs)("div",{className:"graph grid-item",children:[Object(h.jsx)("h1",{children:"Portfolios"}),Object(h.jsx)(U.a,{data:r.getDatasets(),layout:{scene:{xaxis:{title:t.x,autorange:"reversed"},yaxis:{title:t.y,autorange:"reversed"},zaxis:{title:t.z},camera:{center:{x:.05,y:0,z:-.15},eye:{x:1.3,y:1.3,z:.1}}},margin:{l:.1,r:.1,b:.1,t:.1},hovermode:"closest",hoverlabel:{bgcolor:"#FFF"},showlegend:!1},onClick:function(e){setTimeout((function(){r.openPortfolio(e.points[0].customdata)}),125)},useResizeHandler:!0,config:{displayModeBar:!1},style:{margin:"auto",width:"100%",maxWidth:"600px",height:"500px"}})]})]}):Object(h.jsx)("div",{className:"graph grid-item",children:Object(h.jsx)("h1",{children:"Loading Portfolios..."})})},r.state={error:null,portfolios:null,portfolio:null},r}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.settings,r=t.user,a="";n.tickers.forEach((function(e){return a+=e+"-"})),a=a.substr(0,a.length-1);var s=new URLSearchParams;s.append("tickers",a),O.a.get("".concat("https://www.gh0stmod.com","/data/portfolios"),{headers:{Authorization:"Bearer ".concat(r.token)},params:s}).then((function(t){e.setState({portfolios:t.data})})).catch((function(t){e.setState({error:t})}))}}]),n}(a.a.Component),T=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).render=function(){var t=e.props,n=t.tickers,r=t.handleChange,a=t.removeTicker;return Object(h.jsxs)("div",{className:"tickers",children:[Object(h.jsx)(S,{handleChange:r}),Array.from(n).map((function(e,t){return Object(h.jsxs)("span",{className:"ticker",children:[e,Object(h.jsx)("button",{className:"close-button",onClick:function(t){t.preventDefault(),a(e)},children:Object(h.jsx)("i",{className:"fa fa-times"})})]},t)}))]})},e}return n}(a.a.Component),E=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).render=function(){var e=r.state.axes,t=r.props,n=t.name,a=t.handleChange,s=t.selected;return Object(h.jsxs)("div",{className:"tickers",children:[Object(h.jsxs)("label",{children:[n.toUpperCase()," Axis"]}),Object(h.jsx)("select",{name:n,onChange:a,defaultValue:e[s][0],children:e.map((function(e,t){return Object(h.jsx)("option",{value:e[0],children:e[1]},t)}))})]})},r.state={axes:[["standardDeviation","Standard Deviation"],["expectedDividendYield","Expected Dividend Yield"],["expectedReturn","Expected Return"]]},r}return n}(a.a.Component),V=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).handleChange=function(e){if("ticker"===e.target.name){var t=r.state.tickers;5===t.size?r.props.popUp("You can only add ".concat(5," stocks to a portfolio."),!0):(t.add(e.target.value),r.setState({tickers:t}))}else"optimalOnly"===e.target.name?r.setState({optimalOnly:!e.target.checked}):r.setState(Object(b.a)({},e.target.name,e.target.value))},r.removeTicker=function(e){var t=r.state.tickers;t.delete(e),r.setState({tickers:t})},r.loadVisualisation=function(e){e.preventDefault(),r.props.updateSettings({tickers:r.state.tickers,x:r.state.x,y:r.state.y,z:r.state.z,optimalOnly:r.state.optimalOnly})},r.render=function(){var e=r.state.tickers;return Object(h.jsxs)("div",{className:"settings grid-item",children:[Object(h.jsx)("h1",{children:"Settings"}),Object(h.jsxs)("form",{children:[Object(h.jsx)(T,{tickers:e,handleChange:r.handleChange,removeTicker:r.removeTicker}),Object(h.jsx)(E,{name:"x",selected:0,handleChange:r.handleChange}),Object(h.jsx)(E,{name:"y",selected:1,handleChange:r.handleChange}),Object(h.jsx)(E,{name:"z",selected:2,handleChange:r.handleChange}),Object(h.jsx)("label",{style:{display:"inline",marginRight:"1em"},children:"Display Non-Optimal Portfolios"}),Object(h.jsx)("input",{style:{width:"fit-content",transform:"scale(1.5)"},type:"checkbox",name:"optimalOnly",onChange:r.handleChange}),Object(h.jsx)("button",{className:"optimise-button",onClick:r.loadVisualisation,children:"View Optimal Portfolios"})]})]})},r.state={tickers:new Set,x:"standardDeviation",y:"expectedDividendYield",z:"expectedReturn",optimalOnly:!0},r}return n}(a.a.Component),Y=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).updateSettings=function(e){0!==e.tickers.size&&e.x&&e.y&&e.z?(r.setState({settings:null}),setTimeout((function(){r.setState({settings:e})}),5)):r.props.popUp("You must select 1 or more tickers and a value for each axis.",!0)},r.render=function(){var e=r.props,t=e.user,n=e.popUp,a=r.state.settings;return Object(h.jsx)("div",{className:"optimise wrapper",children:Object(h.jsxs)("div",{className:"grid",children:[Object(h.jsx)(V,{updateSettings:r.updateSettings,popUp:n}),a?Object(h.jsx)(B,{user:t,settings:a,popUp:n}):null]})})},r.state={settings:null},r}return n}(a.a.Component),L=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).openPage=function(e){return r.setState({currentPage:e})},r.login=function(e,t){var n=Object(u.a)(t);n.token=e,r.setState({user:n})},r.logout=function(){return r.setState({user:null,currentPage:"home"})},r.addPopUp=function(e,t){var n={message:e,error:t},a=r.state.popUps;a.push(n),r.setState({popUps:a}),setTimeout((function(){r.removePopUp(n)}),4e3)},r.removePopUp=function(e){var t=r.state.popUps;t.includes(e)&&(t=t.filter((function(t){return t!==e})),r.setState({popUps:t}))},r.render=function(){var e=r.state,t=e.currentPage,n=e.popUps,a=e.user;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(d,{user:a,openPage:r.openPage,page:t,logout:r.logout}),n?n.map((function(e,t){return Object(h.jsx)(p,{closeEarly:r.removePopUp,children:e},t)})):null,"home"===t?Object(h.jsx)(m,{openPage:r.openPage}):null,"account"===t?Object(h.jsx)(x,{login:r.login,popUp:r.addPopUp,openPage:r.openPage}):null,"portfolio"===t?Object(h.jsx)(F,{user:a,popUp:r.addPopUp}):null,"optimise"===t?Object(h.jsx)(Y,{user:a,popUp:r.addPopUp}):null]})},r.state={currentPage:"home",popUps:[],user:null},r}return n}(a.a.Component);c.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(L,{})}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.ba4f76bc.chunk.js.map