(this["webpackJsonpportolio-front-end"]=this["webpackJsonpportolio-front-end"]||[]).push([[0],{20:function(e,t){},21:function(e,t){},26:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),r=n(18),c=n.n(r),o=(n(26),n(2)),i=n(4),l=n(3),u=n(19),p=n(0);function d(e){return Object(p.jsx)("nav",{children:Object(p.jsxs)("div",{className:"wrapper",children:[Object(p.jsx)("button",{onClick:function(){return e.openPage("home")},className:"home-button",children:"PORTFOLIO OPTIMISER"}),Object(p.jsx)("div",{className:"right",children:e.user?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("button",{onClick:function(){return e.openPage("portfolio")},children:"My Portfolio"}),Object(p.jsx)("button",{onClick:function(){return e.openPage("optimise")},children:"Optimise"}),Object(p.jsx)("button",{onClick:function(){return e.logout()},children:"Logout"})]}):Object(p.jsx)("button",{onClick:function(){return e.openPage("account")},children:"Login"})})]})})}function j(e){var t=e.children,n=e.closeEarly;return Object(p.jsx)("div",{className:"wrapper",children:Object(p.jsxs)("div",{className:t.error?"pop-up red":"pop-up green",children:[t.message,Object(p.jsx)("button",{className:"close-button",onClick:function(){return n(t)},children:Object(p.jsx)("i",{className:"fa fa-times"})})]})})}var h=n.p+"static/media/visualisation.53cc120e.mp4";function m(e){var t=e.openPage;return Object(p.jsxs)("div",{className:"home wrapper",children:[Object(p.jsx)("h1",{children:"PORTFOLIO OPTIMISER"}),Object(p.jsxs)("h2",{children:["Helping you to invest only in the market's most",Object(p.jsx)("span",{className:"blue",children:" optimal"})," porfolios..."]}),Object(p.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,children:Object(p.jsx)("source",{src:h,type:"video/mp4"})}),Object(p.jsx)("button",{onClick:function(){return t("account")},children:"Start Investing Now!"})]})}var b=n(7),O=n(6),f=n.n(O),v=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleChange=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value))},a.loginUser=function(e){e.preventDefault();var t=a.props,n=t.openPage,s=t.login,r=t.popUp,c={email:a.state.email,password:a.state.password};f.a.post("".concat("https://gh0stmod.com","/user/login"),{user:c},{crossDomain:!1}).then((function(e){s(e.data.shortAccessToken,e.data.fullAccessToken),n("portfolio")})).catch((function(e){if(!e.response)return r("Failed to connect to server, please try again soon.",!0);var t=e.response.status;return r(404===t||401===t?"The account information you provided is incorrect.":412===t?"You must verify your email before logging in.":"Unknown Error, please contact alantollett@outlook.com.",!0)}))},a.render=function(){return Object(p.jsxs)("div",{className:"grid-item",children:[Object(p.jsx)("h1",{children:"Sign In"}),Object(p.jsxs)("form",{children:[Object(p.jsx)("label",{children:"Email"}),Object(p.jsx)("input",{type:"email",name:"email",onChange:a.handleChange}),Object(p.jsx)("label",{children:"Password"}),Object(p.jsx)("input",{type:"password",name:"password",onChange:a.handleChange}),Object(p.jsx)("button",{onClick:a.loginUser,children:"Sign In"})]})]})},a.state={email:null,password:null},a}return n}(s.a.Component),g=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleChange=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value))},a.areInputsValid=function(){var e=a.state,t=e.email,n=e.email2,s=e.password,r=e.password2,c=a.props.popUp;return null==t||null==n||t!==n?(c("Please enter two matching emails.",!0),!1):null==s||null==r||s!==r?(c("Please enter two matching passwords.",!0),!1):!!new RegExp("^(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})").test(s)||(c("Your password must contain at least one symbol, uppercase, and numerical character, and be at least 8 characters long.",!0),!1)},a.registerUser=function(e){e.preventDefault();var t=a.props.popUp,n=a.state,s=n.email,r=n.password;if(a.areInputsValid()){var c={email:s,password:r};f.a.post("".concat("https://gh0stmod.com","/user/register"),{user:c},{crossDomain:!1}).then((function(e){t("Please check your email to verify your account.",!1)})).catch((function(e){if(!e.response)return t("Failed to connect to server, please try again soon.",!0);var n=e.response.status;return t(409===n?"An account with that email address already exists.":500===n?"Internal Server Error, please contact alantollett@outlook.com.":"Unknown Error, please contact alantollett@outlook.com.",!0)}))}},a.render=function(){return Object(p.jsxs)("div",{className:"grid-item",children:[Object(p.jsx)("h1",{children:"Sign Up"}),Object(p.jsxs)("form",{children:[Object(p.jsx)("label",{children:"Email"}),Object(p.jsx)("input",{type:"email",name:"email",onChange:a.handleChange}),Object(p.jsx)("label",{children:"Confirm Email"}),Object(p.jsx)("input",{type:"email2",name:"email2",onChange:a.handleChange}),Object(p.jsx)("label",{children:"Password"}),Object(p.jsx)("input",{type:"password",name:"password",onChange:a.handleChange}),Object(p.jsx)("label",{children:"Confirm Password"}),Object(p.jsx)("input",{type:"password",name:"password2",onChange:a.handleChange}),Object(p.jsx)("button",{onClick:a.registerUser,children:"Sign Up"})]})]})},a.state={email:null,email2:null,password:null,password2:null},a}return n}(s.a.Component);function x(e){var t=e.login,n=e.openPage,a=e.popUp;return Object(p.jsx)("div",{className:"account wrapper",children:Object(p.jsxs)("div",{className:"grid",children:[Object(p.jsx)(v,{login:t,openPage:n,popUp:a}),Object(p.jsx)(g,{popUp:a})]})})}var C=n(8),k=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(C.a)(n,[{key:"render",value:function(){var e=this.props,t=e.closeFunc,n=e.title,a=e.children;return Object(p.jsx)("div",{className:"modal-background",children:Object(p.jsxs)("div",{className:"modal",children:[Object(p.jsxs)("div",{className:"modal-header",children:[Object(p.jsx)("h1",{style:{color:"white",margin:"0"},children:n}),Object(p.jsx)("button",{onClick:t,className:"close-button",children:Object(p.jsx)("i",{className:"fa fa-times"})})]}),Object(p.jsx)("div",{className:"modal-body",children:a})]})})}}]),n}(s.a.Component),y=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).render=function(){var e=a.state,t=e.companies,n=e.error,s=a.props.handleChange;return n?Object(p.jsx)("div",{children:n.message}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("label",{children:"Company"}),t?Object(p.jsxs)("select",{name:"ticker",onChange:s,children:[Object(p.jsx)("option",{value:"Select Ticker",children:"Select Company"}),t.map((function(e,t){return Object(p.jsx)("option",{value:e.Symbol,children:e.Name},t)}))]}):Object(p.jsx)("p",{children:"Loading Companies..."})]})},a.state={companies:null,error:null},a}return Object(C.a)(n,[{key:"componentDidMount",value:function(){var e=this;f.a.get("".concat("https://gh0stmod.com","/data/companies")).then((function(t){e.setState({companies:t.data})})).catch((function(t){e.setState({error:t})}))}}]),n}(s.a.Component),S=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleChange=function(e){return a.setState(Object(b.a)({},e.target.name,e.target.value))},a.buyShares=function(e){e.preventDefault();var t=a.state,n=t.numShares,s=t.ticker,r=a.props,c=r.closeFunc,o=r.user,i=r.popUp;if(!s||n<=0)return c(),void i("You must select a ticker and a positive number of shares.",!0);var l={ticker:a.state.ticker,numShares:a.state.numShares};f.a.post("".concat("https://gh0stmod.com","/user/investments"),{investment:l},{headers:{Authorization:"Bearer ".concat(o.token)}}).then((function(e){c(),i("Share(s) Purchased Successfully",!1)})).catch((function(e){console.log(e)}))},a.state={ticker:null,numShares:0},a}return Object(C.a)(n,[{key:"render",value:function(){var e=this.props.closeFunc;return Object(p.jsx)(k,{closeFunc:e,title:"Buy Share(s)",children:Object(p.jsxs)("form",{children:[Object(p.jsx)(y,{handleChange:this.handleChange}),Object(p.jsx)("label",{children:"Number of Shares"}),Object(p.jsx)("input",{type:"number",name:"numShares",min:"1",onChange:this.handleChange}),Object(p.jsxs)("button",{onClick:this.buyShares,children:["Buy ",this.state.numShares," Shares"]})]})})}}]),n}(s.a.Component),P=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).sellShare=function(t){var n=e.props,a=n.user,s=n.popUp,r=n.updateInvestments,c={ticker:t,numShares:-1};f.a.post("".concat("https://gh0stmod.com","/user/investments"),{investment:c},{headers:{Authorization:"Bearer ".concat(a.token)}}).then((function(e){s("Share(s) Sold Successfully",!1),r()})).catch((function(e){console.log(e)}))},e.render=function(){var t=e.props.investments;return Object(p.jsxs)("table",{children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Ticker"}),Object(p.jsx)("th",{children:"Number of Shares"}),Object(p.jsx)("th",{children:"Price per Share"}),Object(p.jsx)("th",{children:"Current Value"}),Object(p.jsx)("th",{children:"Sell"})]})}),Object(p.jsx)("tbody",{children:t.map((function(t,n){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:t.name}),Object(p.jsx)("td",{children:t.ticker}),Object(p.jsx)("td",{children:t.numShares}),Object(p.jsxs)("td",{children:["$",t.sharePrice]}),Object(p.jsxs)("td",{children:["$",Number(t.sharePrice*t.numShares).toFixed(2)]}),Object(p.jsx)("td",{children:Object(p.jsx)("button",{onClick:function(){return e.sellShare(t.ticker)},children:"Sell A Share"})})]},n)}))})]})},e}return n}(s.a.Component),U=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).updateInvestments=function(){a.setState({investments:null}),f.a.get("".concat("https://gh0stmod.com","/user/investments"),{headers:{Authorization:"Bearer ".concat(a.props.user.token)}}).then((function(e){a.setState({investments:e.data})})).catch((function(e){a.setState({error:e})}))},a.openModal=function(){a.setState({modalVisible:!0})},a.closeModal=function(){a.setState({modalVisible:!1}),a.updateInvestments()},a.render=function(){var e=a.state,t=e.investments,n=e.error,s=e.modalVisible,r=a.props,c=r.user,o=r.popUp;return n?Object(p.jsx)("div",{children:n.message}):Object(p.jsxs)("div",{className:"investments",children:[Object(p.jsx)("h1",{children:"My Investments"}),s?Object(p.jsx)(S,{closeFunc:a.closeModal,user:c,popUp:o}):null,Object(p.jsx)("button",{className:"buy-button",onClick:function(){return a.openModal()},children:"Buy Share(s)"}),t?Object(p.jsx)(P,{investments:t,user:c,popUp:o,updateInvestments:a.updateInvestments}):Object(p.jsx)("div",{children:"Downloading Investments Data..."})]})},a.state={modalVisible:!1,error:null,investments:null},a}return Object(C.a)(n,[{key:"componentDidMount",value:function(){this.updateInvestments()}}]),n}(s.a.Component),w=n(20),N=n.n(w);function I(e){var t=e.user,n=e.popUp;return Object(p.jsxs)("div",{className:"portfolio wrapper",children:[Object(p.jsx)(N.a,{user:t}),Object(p.jsx)(U,{user:t,popUp:n})]})}var D=n(21),T=n.n(D),E=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).render=function(){var t=e.props,n=t.tickers,a=t.handleChange,s=t.removeTicker;return Object(p.jsxs)("div",{className:"tickers",children:[Object(p.jsx)(y,{handleChange:a}),Array.from(n).map((function(e,t){return Object(p.jsxs)("span",{className:"ticker",children:[e,Object(p.jsx)("button",{className:"close-button",onClick:function(t){t.preventDefault(),s(e)},children:Object(p.jsx)("i",{className:"fa fa-times"})})]},t)}))]})},e}return n}(s.a.Component),F=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).render=function(){var e=a.state.axes,t=a.props,n=t.name,s=t.handleChange,r=t.selected;return Object(p.jsxs)("div",{className:"tickers",children:[Object(p.jsxs)("label",{children:[n.toUpperCase()," Axis"]}),Object(p.jsx)("select",{name:n,onChange:s,defaultValue:e[r][0],children:e.map((function(e,t){return Object(p.jsx)("option",{value:e[0],children:e[1]},t)}))})]})},a.state={axes:[["standardDeviation","Standard Deviation"],["expectedDividendYield","Expected Dividend Yield"],["expectedReturn","Expected Return"]]},a}return n}(s.a.Component),A=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleChange=function(e){if("ticker"===e.target.name){var t=a.state.tickers;5===t.size?a.props.popUp("You can only add ".concat(5," stocks to a portfolio."),!0):(t.add(e.target.value),a.setState({tickers:t}))}else"optimalOnly"===e.target.name?a.setState({optimalOnly:!e.target.checked}):a.setState(Object(b.a)({},e.target.name,e.target.value))},a.removeTicker=function(e){var t=a.state.tickers;t.delete(e),a.setState({tickers:t})},a.loadVisualisation=function(e){e.preventDefault(),a.props.updateSettings({tickers:a.state.tickers,x:a.state.x,y:a.state.y,z:a.state.z,optimalOnly:a.state.optimalOnly})},a.render=function(){var e=a.state.tickers;return Object(p.jsxs)("div",{className:"settings grid-item",children:[Object(p.jsx)("h1",{children:"Settings"}),Object(p.jsxs)("form",{children:[Object(p.jsx)(E,{tickers:e,handleChange:a.handleChange,removeTicker:a.removeTicker}),Object(p.jsx)(F,{name:"x",selected:0,handleChange:a.handleChange}),Object(p.jsx)(F,{name:"y",selected:1,handleChange:a.handleChange}),Object(p.jsx)(F,{name:"z",selected:2,handleChange:a.handleChange}),Object(p.jsx)("label",{style:{display:"inline",marginRight:"1em"},children:"Display Non-Optimal Portfolios"}),Object(p.jsx)("input",{style:{width:"fit-content",transform:"scale(1.5)"},type:"checkbox",name:"optimalOnly",onChange:a.handleChange}),Object(p.jsx)("button",{className:"optimise-button",onClick:a.loadVisualisation,children:"View Optimal Portfolios"})]})]})},a.state={tickers:new Set,x:"standardDeviation",y:"expectedDividendYield",z:"expectedReturn",optimalOnly:!0},a}return n}(s.a.Component),M=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).updateSettings=function(e){0!==e.tickers.size&&e.x&&e.y&&e.z?(a.setState({settings:null}),setTimeout((function(){a.setState({settings:e})}),5)):a.props.popUp("You must select 1 or more tickers and a value for each axis.",!0)},a.render=function(){var e=a.props,t=e.user,n=e.popUp,s=a.state.settings;return Object(p.jsx)("div",{className:"optimise wrapper",children:Object(p.jsxs)("div",{className:"grid",children:[Object(p.jsx)(A,{updateSettings:a.updateSettings,popUp:n}),s?Object(p.jsx)(T.a,{user:t,settings:s,popUp:n}):null]})})},a.state={settings:null},a}return n}(s.a.Component),V=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).openPage=function(e){return a.setState({currentPage:e})},a.login=function(e,t){var n=Object(u.a)(t);n.token=e,a.setState({user:n})},a.logout=function(){return a.setState({user:null,currentPage:"home"})},a.addPopUp=function(e,t){var n={message:e,error:t},s=a.state.popUps;s.push(n),a.setState({popUps:s}),setTimeout((function(){a.removePopUp(n)}),4e3)},a.removePopUp=function(e){var t=a.state.popUps;t.includes(e)&&(t=t.filter((function(t){return t!==e})),a.setState({popUps:t}))},a.render=function(){var e=a.state,t=e.currentPage,n=e.popUps,s=e.user;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(d,{user:s,openPage:a.openPage,page:t,logout:a.logout}),n?n.map((function(e,t){return Object(p.jsx)(j,{closeEarly:a.removePopUp,children:e},t)})):null,"home"===t?Object(p.jsx)(m,{openPage:a.openPage}):null,"account"===t?Object(p.jsx)(x,{login:a.login,popUp:a.addPopUp,openPage:a.openPage}):null,"portfolio"===t?Object(p.jsx)(I,{user:s,popUp:a.addPopUp}):null,"optimise"===t?Object(p.jsx)(M,{user:s,popUp:a.addPopUp}):null]})},a.state={currentPage:"home",popUps:[],user:null},a}return n}(s.a.Component);c.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(V,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.7351988f.chunk.js.map