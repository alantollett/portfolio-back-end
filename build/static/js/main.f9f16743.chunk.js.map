{"version":3,"sources":["components/Navigation.js","components/PopUp.js","components/pages/Home/visualisation.mp4","components/pages/Home/HomePage.js","components/pages/Account/LoginForm.js","components/pages/Account/RegisterForm.js","components/pages/Account/AccountPage.js","components/Modal.js","components/CompaniesSelect.js","components/pages/Portfolio/BuyModal.js","components/pages/Portfolio/InvestmentsTable.js","components/pages/Portfolio/MyInvestments.js","components/pages/Portfolio/MyPortfolio.js","components/pages/Portfolio/PortfolioPage.js","components/pages/Optimise/PortfolioModal.js","components/pages/Optimise/OptimiseGraph.js","components/pages/Optimise/Tickers.js","components/pages/Optimise/Axis.js","components/pages/Optimise/OptimiseSettings.js","components/pages/Optimise/OptimisePage.js","App.js","index.js"],"names":["Navigation","props","className","onClick","openPage","user","logout","PopUp","popUp","children","closeEarly","error","message","HomePage","autoPlay","loop","muted","src","visualisation","type","LoginForm","handleChange","e","setState","target","name","value","loginUser","preventDefault","login","email","state","password","axios","post","process","crossDomain","then","res","data","shortAccessToken","fullAccessToken","catch","err","response","status","render","onChange","React","Component","RegisterForm","areInputsValid","email2","password2","RegExp","test","registerUser","AccountPage","Modal","this","closeFunc","title","style","color","margin","CompaniesSelect","companies","list","id","map","c","index","Symbol","Name","get","BuyModal","buyShares","numShares","ticker","investment","headers","Authorization","token","console","log","min","InvestmentsTable","sellShare","updateInvestments","investments","sharePrice","Number","toFixed","MyInvestments","openModal","modalVisible","closeModal","MyPortfolio","getWorthsFiltered","worths","range","minDate","Date","setHours","setMinutes","setSeconds","daysAfterMonday","getDay","setDate","getDate","daysAfterFirst","setMonth","date","filter","worth","worthDate","changeRange","length","filteredWorths","dates","amounts","amount","x","y","mode","line","text","hovertemplate","layout","hovermode","hoverlabel","bgcolor","l","r","b","t","useResizeHandler","config","displayModeBar","width","PortfolioPage","PortfolioModal","loadRequiredInvestments","userInvestments","portfolio","tickers","weights","investmentsRequired","sharesRequired","weight","gcd","findGCD","shares","existingInvestments","inv","includes","push","toBuy","toSell","obtainPortfolio","a","arr","result","i","Math","abs","OptimiseGraph","getDatasets","settings","portfolios","xEff","p","efficient","yEff","zEff","z","effDataset","customdata","asString","marker","size","datasets","optimalOnly","xNotEff","yNotEff","zNotEff","notEffDataset","JSON","parse","stringify","openPortfolio","closePortfolio","scene","xaxis","autorange","yaxis","zaxis","camera","center","eye","showlegend","setTimeout","points","maxWidth","height","forEach","substr","params","URLSearchParams","append","Tickers","removeTicker","Array","from","Axis","axes","selected","toUpperCase","defaultValue","axis","OptimiseSettings","add","checked","delete","loadVisualisation","updateSettings","display","marginRight","transform","Set","OptimisePage","App","page","currentPage","smallToken","largeToken","jwt_decode","addPopUp","popUps","removePopUp","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f9f16743.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\r\n\r\nexport default function Navigation(props){\r\n    return (\r\n        <nav>\r\n            <div className=\"wrapper\"> \r\n                <button onClick={() => props.openPage(\"home\")} className=\"home-button\">\r\n                    PORTFOLIO OPTIMISER\r\n                </button>\r\n                \r\n                <div className=\"right\">\r\n                    {props.user ? \r\n                        <>\r\n                            <button onClick={() => props.openPage(\"portfolio\")}>My Portfolio</button>\r\n                            <button onClick={() => props.openPage(\"optimise\")} >Optimise</button>\r\n                            <button onClick={() => props.logout()}>Logout</button>\r\n                        </>\r\n                    : \r\n                        <button onClick={() => props.openPage(\"account\")}>Login</button>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    )\r\n};\r\n\r\nNavigation.propTypes = {\r\n    openPage: PropTypes.func.isRequired,\r\n    user: PropTypes.object,\r\n    logout: PropTypes.func\r\n};","import PropTypes from 'prop-types';\r\n\r\nexport default function PopUp(props){\r\n    const popUp = props.children;\r\n    const closeEarly = props.closeEarly;\r\n\r\n    return (\r\n        <div className=\"wrapper\">\r\n            <div className={popUp.error ? \"pop-up red\" : \"pop-up green\"}>\r\n                {popUp.message}\r\n                <button className=\"close-button\" onClick={() => closeEarly(popUp)}>\r\n                    <i className=\"fa fa-times\"/>\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nPopUp.propTypes = {\r\n    children: PropTypes.object.isRequired,\r\n    closeEarly: PropTypes.func.isRequired\r\n};","export default __webpack_public_path__ + \"static/media/visualisation.53cc120e.mp4\";","import PropTypes from 'prop-types';\r\nimport visualisation from './visualisation.mp4';\r\n\r\nexport default function HomePage(props){\r\n    const {openPage} = props;\r\n\r\n    return (\r\n        <div className=\"home wrapper\">\r\n            <h1>PORTFOLIO OPTIMISER</h1>\r\n            <h2>Helping you to invest only in the market's most \r\n                <span className=\"blue\"> optimal</span> porfolios...\r\n            </h2>\r\n\r\n            <video autoPlay loop muted>\r\n                <source src={visualisation} type=\"video/mp4\"/>\r\n            </video>\r\n\r\n            <button onClick={() => openPage('account')}>Start Investing Now!</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nHomePage.propTypes = {\r\n    openPage: PropTypes.func.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport axios from 'axios';\r\n\r\nexport default class LoginForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {             \r\n            email: null,\r\n            password: null\r\n        };\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({[e.target.name]: e.target.value});\r\n    }\r\n\r\n    loginUser = (e) => {\r\n        e.preventDefault();\r\n        const {openPage, login, popUp} = this.props;\r\n\r\n        // create a user object from the form\r\n        const user = {\r\n            email: this.state.email,\r\n            password: this.state.password\r\n        };\r\n\r\n        // post the form data to /login.\r\n        // the result is a json web token which represents the full user object.\r\n        axios.post(`${process.env.REACT_APP_API_PATH}/user/login`, {user}, {crossDomain: false})\r\n        .then((res) => {\r\n            login(res.data.shortAccessToken, res.data.fullAccessToken);\r\n            openPage('portfolio');\r\n        }).catch(err => {\r\n            if(!err.response) return popUp('Failed to connect to server, please try again soon.', true);\r\n\r\n            const status = err.response.status;\r\n            if(status === 404 || status === 401) return popUp('The account information you provided is incorrect.', true);\r\n            if(status === 412) return popUp('You must verify your email before logging in.', true);\r\n            return popUp('Unknown Error, please contact alantollett@outlook.com.', true);\r\n        });\r\n    }\r\n\r\n    render = () => {\r\n        return (\r\n            <div className=\"grid-item\">\r\n                <h1>Sign In</h1>\r\n\r\n                <form>\r\n                    <label>Email</label>\r\n                    <input type=\"email\" name=\"email\" onChange={this.handleChange}/>\r\n\r\n                    <label>Password</label>\r\n                    <input type=\"password\" name=\"password\" onChange={this.handleChange}/>\r\n                    \r\n                    <button onClick={this.loginUser}>Sign In</button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nLoginForm.propTypes = {\r\n    login: PropTypes.func.isRequired,\r\n    openPage: PropTypes.func.isRequired,\r\n    popUp: PropTypes.func.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport axios from 'axios';\r\n\r\nexport default class RegisterForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {             \r\n            email: null,\r\n            email2: null,\r\n            password: null,\r\n            password2: null,\r\n        };\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({[e.target.name]: e.target.value});\r\n    }\r\n\r\n    areInputsValid = () => {\r\n        const {email, email2, password, password2} = this.state;\r\n        const {popUp} = this.props;\r\n\r\n        // ensure user has inputted two matching emails\r\n        if(email == null || email2 == null || email !== email2) {\r\n            popUp(\"Please enter two matching emails.\", true);\r\n            return false;\r\n        }\r\n\r\n        // ensure user has inputted two matching passwords\r\n        if(password == null || password2 == null || password !== password2) {\r\n            popUp(\"Please enter two matching passwords.\", true);\r\n            return false;\r\n        }\r\n\r\n        // ensure password matches the requirements\r\n        var passwordRegex = new RegExp(\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})\");\r\n        if(!passwordRegex.test(password)) {\r\n            popUp(\"Your password must contain at least one uppercase, lowercase, and numerical character, and be at least 8 characters long.\", true);\r\n            return false;\r\n        } \r\n\r\n        return true;\r\n    }\r\n    \r\n    registerUser = (e) => {\r\n        e.preventDefault();\r\n        const {popUp} = this.props;\r\n        const {email, password} = this.state;\r\n\r\n        // validate form inputs\r\n        if(!this.areInputsValid()) return;\r\n        \r\n        // create a user object from the form\r\n        const user = {email: email, password: password};\r\n\r\n        // post the form data to /register.\r\n        // the server then sends an email to the user with a verification link.\r\n        axios.post(`${process.env.REACT_APP_API_PATH}/user/register`, {user}, {crossDomain: false})\r\n        .then((res) => {\r\n            popUp('Please check your email to verify your account.', false);\r\n        }).catch(err => {\r\n            if(!err.response) return popUp('Failed to connect to server, please try again soon.', true);\r\n            \r\n            const status = err.response.status;\r\n            if(status === 409) return popUp('An account with that email address already exists.', true);\r\n            if(status === 500) return popUp('Internal Server Error, please contact alantollett@outlook.com.', true);\r\n            return popUp('Unknown Error, please contact alantollett@outlook.com.', true);\r\n        });\r\n    }\r\n\r\n    render = () => {\r\n        return (\r\n            <div className=\"grid-item\">\r\n                <h1>Sign Up</h1>\r\n\r\n                <form>\r\n                    <label>Email</label>\r\n                    <input type=\"email\" name=\"email\" onChange={this.handleChange}/>\r\n\r\n                    <label>Confirm Email</label>\r\n                    <input type=\"email2\" name=\"email2\" onChange={this.handleChange}/>\r\n\r\n                    <label>Password</label>\r\n                    <input type=\"password\" name=\"password\" onChange={this.handleChange}/>\r\n\r\n                    <label>Confirm Password</label>\r\n                    <input type=\"password\" name=\"password2\" onChange={this.handleChange}/>\r\n                    \r\n                    <button onClick={this.registerUser}>Sign Up</button>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nRegisterForm.propTypes = {\r\n    popUp: PropTypes.func.isRequired,\r\n};","import PropTypes from 'prop-types';\r\nimport LoginForm from './LoginForm';\r\nimport RegisterForm from './RegisterForm';\r\n\r\nexport default function AccountPage(props) {\r\n    const {login, openPage, popUp} = props;\r\n\r\n    return (\r\n        <div className=\"account wrapper\">\r\n            <div className=\"grid\">\r\n                <LoginForm login={login} openPage={openPage} popUp={popUp}/>\r\n                <RegisterForm popUp={popUp}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nAccountPage.propTypes = {\r\n    login: PropTypes.func.isRequired,\r\n    openPage: PropTypes.func.isRequired,\r\n    popUp: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Modal extends React.Component {\r\n    render() {\r\n        const {closeFunc, title, children} = this.props;\r\n\r\n        return (\r\n            <div className=\"modal-background\">\r\n                <div className=\"modal\">\r\n                    <div className=\"modal-header\">\r\n                        <h1 style={{color: \"white\", margin:\"0\"}}>{title}</h1>\r\n                        <button onClick={closeFunc} className=\"close-button\"><i className=\"fa fa-times\"></i></button>\r\n                    </div>\r\n\r\n                    <div className=\"modal-body\">\r\n                        {children}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n        \r\n    }\r\n}\r\n\r\nModal.propTypes = {\r\n    closeFunc: PropTypes.func.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    children: PropTypes.object.isRequired,\r\n};","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport axios from 'axios';\r\n\r\nexport default class CompaniesSelect extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            companies: null,\r\n            error: null\r\n        };\r\n    }\r\n    \r\n    // load a list of possible companies (names and tickers) \r\n    componentDidMount(){\r\n        axios.get(`${process.env.REACT_APP_API_PATH}/data/companies`).then(res => {\r\n            this.setState({companies: res.data});\r\n        }).catch(err => {\r\n            this.setState({error: err});\r\n        });\r\n    }\r\n\r\n    render = () => {\r\n        const {companies, error} = this.state;\r\n        const {handleChange} = this.props;\r\n\r\n        if(error){\r\n            return <div>{error.message}</div>\r\n        } else {\r\n            return (\r\n                <>\r\n                <label>Company</label>\r\n                {!companies ? \r\n                    <p>Loading Companies...</p>\r\n                :\r\n                    <>\r\n                    <input name=\"ticker\" list=\"companies\" onChange={handleChange}/>\r\n                    <datalist id=\"companies\">\r\n                        <option value=\"Select Ticker\">Select Company</option>\r\n                        {companies.map((c, index) => <option key={index} value={c.Symbol}>{c.Name}</option>)}\r\n                    </datalist>\r\n                    </>\r\n                }\r\n                </>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nCompaniesSelect.propTypes = {\r\n    handleChange: PropTypes.func.isRequired,\r\n};\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport axios from 'axios';\r\nimport Modal from '../../Modal';\r\nimport CompaniesSelect from '../../CompaniesSelect';\r\n\r\nexport default class BuyModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n            ticker: null,\r\n            numShares: 0,\r\n        };\r\n    }\r\n\r\n    handleChange = (e) => this.setState({[e.target.name]: e.target.value});\r\n\r\n    buyShares = (e) => {\r\n        e.preventDefault();\r\n\r\n        const {numShares, ticker} = this.state;\r\n        const {closeFunc, user, popUp} = this.props;\r\n\r\n        if(!ticker || numShares <= 0) {\r\n            closeFunc();\r\n            popUp('You must select a ticker and a positive number of shares.', true);\r\n            return;\r\n        }\r\n\r\n        // create an investment object from the form\r\n        const investment = {\r\n            ticker: this.state.ticker,\r\n            numShares: this.state.numShares\r\n        };\r\n\r\n        // post the form data to /investment\r\n        axios.post(`${process.env.REACT_APP_API_PATH}/user/investments`, {investment}, {\r\n            headers: { Authorization: `Bearer ${user.token}`}\r\n        }).then((res) => {\r\n            closeFunc();\r\n            popUp('Share(s) Purchased Successfully', false);\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const {closeFunc} = this.props;\r\n\r\n        return (\r\n            <Modal closeFunc={closeFunc} title=\"Buy Share(s)\">\r\n                <form>\r\n                    <CompaniesSelect handleChange={this.handleChange}/>\r\n                    <label>Number of Shares</label>\r\n                    <input type=\"number\" name=\"numShares\" min=\"1\" onChange={this.handleChange}/>\r\n\r\n                    <button onClick={this.buyShares}>Buy {this.state.numShares} Shares</button>\r\n                </form>\r\n            </Modal>\r\n        );\r\n        \r\n    }\r\n}\r\n\r\nBuyModal.propTypes = {\r\n    popUp: PropTypes.func.isRequired,\r\n    user: PropTypes.object.isRequired,\r\n    closeFunc: PropTypes.func.isRequired,\r\n};","import React from 'react';\r\nimport axios from 'axios';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nexport default class InvestmentsTable extends React.Component {\r\n\r\n    sellShare = (ticker) => {\r\n        const {user, popUp, updateInvestments} = this.props;\r\n        const investment = {ticker: ticker, numShares: -1};\r\n\r\n        axios.post(`${process.env.REACT_APP_API_PATH}/user/investments`, {investment}, {\r\n            headers: { Authorization: `Bearer ${user.token}`}\r\n        }).then((res) => {\r\n            popUp('Share(s) Sold Successfully', false);\r\n            updateInvestments();\r\n        }).catch(err => {\r\n            console.log(err);\r\n        });\r\n    }\r\n\r\n    render = () => {\r\n        const {investments} = this.props;\r\n\r\n        return (\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Name</th>\r\n                        <th>Ticker</th>\r\n                        <th>Number of Shares</th>\r\n                        <th>Price per Share</th>\r\n                        <th>Current Value</th>\r\n                        <th>Sell</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {investments.map((investment, index) => (\r\n                        <tr key={index}>\r\n                            <td>{investment.name}</td>\r\n                            <td>{investment.ticker}</td>\r\n                            <td>{investment.numShares}</td>\r\n                            <td>${investment.sharePrice}</td>\r\n                            <td>${Number(investment.sharePrice * investment.numShares).toFixed(2)}</td>\r\n                            <td><button onClick={() => this.sellShare(investment.ticker)}>Sell A Share</button></td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n        );\r\n    }\r\n}\r\n\r\nInvestmentsTable.propTypes = {\r\n    popUp: PropTypes.func.isRequired,\r\n    updateInvestments: PropTypes.func.isRequired,\r\n    user: PropTypes.object.isRequired,\r\n    investments: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport axios from 'axios';\r\nimport BuyModal from './BuyModal';\r\nimport InvestmentsTable from './InvestmentsTable';\r\n\r\nexport default class MyInvestments extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n            modalVisible: false,\r\n            error: null,\r\n            investments: null,\r\n        };\r\n    }\r\n\r\n    componentDidMount(){        \r\n        this.updateInvestments();\r\n    }\r\n\r\n    updateInvestments = () => {\r\n        this.setState({investments: null});\r\n        axios.get(`${process.env.REACT_APP_API_PATH}/user/investments`, {\r\n            headers: { Authorization: `Bearer ${this.props.user.token}`}\r\n        }).then(res => {\r\n            this.setState({investments: res.data});\r\n        }).catch(err => {\r\n            this.setState({error: err});\r\n        });\r\n    }\r\n\r\n    openModal = () => {\r\n        this.setState({modalVisible: true});\r\n    }\r\n\r\n    closeModal = () => {\r\n        this.setState({modalVisible: false});\r\n        this.updateInvestments();\r\n    }\r\n\r\n    render = () => {\r\n        const {investments, error, modalVisible} = this.state;\r\n        const {user, popUp} = this.props;\r\n\r\n        if(error){\r\n            return <div>{error.message}</div>\r\n        } else{\r\n            return (\r\n                <div className=\"investments\">\r\n                    <h1>My Investments</h1>\r\n                    {modalVisible ? \r\n                        <BuyModal closeFunc={this.closeModal} user={user} popUp={popUp}/>\r\n                    : null}\r\n    \r\n                    <button className=\"buy-button\" onClick={() => this.openModal()}>Buy Share(s)</button>\r\n    \r\n                    {!investments ? <div>Downloading Investments Data...</div> : (\r\n                        <InvestmentsTable investments={investments} user={user} popUp={popUp} updateInvestments={this.updateInvestments}/>\r\n                    )}\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nMyInvestments.propTypes = {\r\n    popUp: PropTypes.func.isRequired,\r\n    user: PropTypes.object.isRequired\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Plot from 'react-plotly.js';\r\nimport axios from 'axios';\r\n\r\nexport default class MyPortfolio extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            error: null,\r\n            worths: null,\r\n            range: 'max'\r\n        };\r\n    }\r\n\r\n    componentDidMount(){\r\n        axios.get(`${process.env.REACT_APP_API_PATH}/user/worths`, {\r\n            headers: { Authorization: `Bearer ${this.props.user.token}`}\r\n        }).then(res => {\r\n            this.setState({worths: res.data});\r\n        }).catch(err => {\r\n            this.setState({error: err});\r\n        });\r\n    }\r\n\r\n    getWorthsFiltered = () => {\r\n        const {worths, range} = this.state;\r\n\r\n        // get the minimum date of visible worth data points based upon range\r\n        var minDate = new Date();\r\n        minDate.setHours(0);\r\n        minDate.setMinutes(0);\r\n        minDate.setSeconds(0);\r\n\r\n        if(range === 'w'){\r\n            const daysAfterMonday = minDate.getDay() - 1;\r\n            minDate.setDate(minDate.getDate() - daysAfterMonday);\r\n        } else if(range === 'm'){\r\n            const daysAfterFirst = minDate.getDate() - 1;\r\n            minDate.setDate(minDate.getDate() - daysAfterFirst);\r\n        } else if(range === 'y'){\r\n            minDate.setMonth(0);\r\n            minDate.setDate(1);\r\n        }\r\n\r\n        // set min date to start of user's account if range is too high\r\n        if(range === 'max'){\r\n            minDate = new Date(worths[0].date);\r\n        }\r\n\r\n        return worths.filter(worth => {\r\n            const worthDate = new Date(worth.date);\r\n\r\n            // remove if value is from the weekend...\r\n            if(worthDate.getDay() === 0 || worthDate.getDay() === 6){\r\n                return false;\r\n            }\r\n\r\n            // filter if out of the specified range\r\n            return (worthDate >= minDate);\r\n        });\r\n    } \r\n\r\n    changeRange = (range) => this.setState({range: range});\r\n\r\n    render = () => {\r\n        const {error, range, worths} = this.state;\r\n\r\n        if(error){\r\n            return <div>{error.message}</div>\r\n        } else if (!worths){\r\n            return <><h1>My Portfolio</h1><h2>Loading...</h2></>;\r\n        } else if(worths.length === 0){\r\n            return <><h1>My Portfolio</h1><h2>No data yet...</h2></>;\r\n        } else{\r\n            // get data filtered by the range\r\n            const filteredWorths = this.getWorthsFiltered();\r\n            var dates = filteredWorths.map(worth => new Date(worth.date));\r\n            var amounts = filteredWorths.map(worth => worth.amount);\r\n\r\n            // color based upon whether value has gone up/down since start of range\r\n            const color = amounts[0] > amounts[amounts.length - 1] ? \"red\" : \"green\";\r\n\r\n            return (\r\n                <>\r\n                <h1>My Portfolio</h1>\r\n                <h2>${worths[worths.length - 1].amount}</h2>\r\n    \r\n                <div className=\"ranges\">\r\n                    <button onClick={() => this.changeRange('d')} className={range === 'd' ? \"active\" : null}>1D</button>\r\n                    <button onClick={() => this.changeRange('w')} className={range === 'w' ? \"active\" : null}>1W</button>\r\n                    <button onClick={() => this.changeRange('m')} className={range === 'm' ? \"active\" : null}>1M</button>\r\n                    <button onClick={() => this.changeRange('y')} className={range === 'y' ? \"active\" : null}>1Y</button>\r\n                    <button onClick={() => this.changeRange('max')} className={range === 'max' ? \"active\" : null}>MAX</button>\r\n                </div>\r\n    \r\n                <Plot className=\"graph\"\r\n                    data={[\r\n                        {\r\n                            x: dates,\r\n                            y: amounts,\r\n                            type: 'scatter',\r\n                            mode: 'markers&lines',\r\n                            line: {color: color},\r\n                            text: amounts,\r\n                            hovertemplate: \"<b>%{x}<br>$%{y}</b>\"\r\n                            + \"<extra></extra>\"\r\n                        }\r\n                    ]}\r\n    \r\n                    layout={{             \r\n                        hovermode: 'closest',\r\n                        hoverlabel: { bgcolor: \"#FFF\" },\r\n                        margin: {l: 50, r: 50, b: 50, t: 10},\r\n                    }}\r\n    \r\n                    useResizeHandler={true}\r\n                    config={{displayModeBar: false}}\r\n                    style={{width: '100%'}}\r\n                />\r\n                </>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nMyPortfolio.propTypes = {\r\n    user: PropTypes.object.isRequired\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport MyInvestments from './MyInvestments';\r\nimport MyPortfolio from './MyPortfolio';\r\n\r\nexport default function PortfolioPage(props){\r\n    const {user, popUp} = props;\r\n\r\n    return (\r\n        <div className=\"portfolio wrapper\">\r\n            <MyPortfolio user={user}/>\r\n            <MyInvestments user={user} popUp={popUp}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nPortfolioPage.propTypes = {\r\n    popUp: PropTypes.func.isRequired,\r\n    user: PropTypes.object.isRequired\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Modal from '../../Modal';\r\nimport axios from 'axios';\r\n\r\nexport default class PortfolioModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userInvestments: null,\r\n            investmentsRequired: null,\r\n        };\r\n    }\r\n\r\n    // when opened start loading user investments, once done\r\n    // calculate the required investments to obtain portfolio\r\n    componentDidMount(){\r\n        axios.get(`${process.env.REACT_APP_API_PATH}/user/investments`, {\r\n            headers: { Authorization: `Bearer ${this.props.user.token}`}\r\n        }).then(res => {\r\n            this.setState({userInvestments: res.data});\r\n            this.loadRequiredInvestments();\r\n        }).catch(err => {\r\n            this.setState({error: err});\r\n        });\r\n    }\r\n\r\n    // https://www.geeksforgeeks.org/gcd-two-array-numbers/\r\n    gcd(a, b) {\r\n        if (a === 0) return b;\r\n        return this.gcd(b % a, a);\r\n    }\r\n\r\n    // https://www.geeksforgeeks.org/gcd-two-array-numbers/\r\n    findGCD(arr) {\r\n        let result = arr[0];\r\n        for (let i = 1; i < arr.length; i++) {\r\n            result = this.gcd(arr[i], result);\r\n    \r\n            if(result === 1)\r\n            {\r\n            return 1;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    loadRequiredInvestments = () => {\r\n        const {userInvestments} = this.state;\r\n        const {portfolio} = this.props;\r\n        const {tickers, weights} = portfolio;\r\n\r\n        var investmentsRequired = null;\r\n        if(userInvestments) {\r\n            // find the smallest number of shares required in each\r\n            // stock in order to maintain the portfolio's weightings\r\n            var sharesRequired = weights.map(weight => weight * 100);\r\n            const gcd = this.findGCD(sharesRequired);\r\n            sharesRequired = sharesRequired.map(weight => weight / gcd);\r\n\r\n            // create a list of stocks to buy/sell based upon shares required\r\n            investmentsRequired = sharesRequired.map((numShares, index) => {\r\n                const ticker = tickers[index];\r\n                var shares = numShares;\r\n\r\n                // if the user already owns shares then decrease number of shares to buy\r\n                const existingInvestments = userInvestments.filter(inv => inv.ticker === ticker);\r\n                if(existingInvestments.length > 0) shares -= existingInvestments[0].numShares;\r\n\r\n                return {\r\n                    ticker: tickers[index],\r\n                    numShares: shares\r\n                }\r\n            });\r\n\r\n            // remove any investments which require 0 shares...\r\n            investmentsRequired = investmentsRequired.filter(inv => inv.numShares !== 0);\r\n\r\n            // add any other investments the user has (which now need to be sold)\r\n            for(var investment of userInvestments){\r\n                if(!tickers.includes(investment.ticker)){\r\n                    investmentsRequired.push({\r\n                        ticker: investment.ticker,\r\n                        numShares: -investment.numShares\r\n                    });\r\n                }\r\n            }\r\n\r\n            // populate toBuy and toSell based on the investments\r\n            this.setState({\r\n                investmentsRequired: investmentsRequired,\r\n                toBuy: investmentsRequired.filter(inv => inv.numShares > 0),\r\n                toSell: investmentsRequired.filter(inv => inv.numShares < 0)\r\n            });\r\n        }\r\n    }\r\n\r\n    // update user investments to equal the portfolio\r\n    obtainPortfolio = async () => {\r\n        const {closeFunc, popUp, user} = this.props;\r\n        const investments = this.state.investmentsRequired;\r\n\r\n        for(var investment of investments){\r\n            // post the form data to /investment\r\n            await axios.post(`${process.env.REACT_APP_API_PATH}/user/investments`, {investment}, {\r\n                headers: { Authorization: `Bearer ${user.token}`}\r\n            }).catch(err => {\r\n                console.log(err);\r\n            });\r\n        }\r\n\r\n        closeFunc();\r\n        popUp('Portfolio Obtained Successfully', false);\r\n    }\r\n\r\n    render() {\r\n        const {toBuy, toSell, userInvestments} = this.state;\r\n        const {closeFunc} = this.props;\r\n        \r\n        return (\r\n            <Modal closeFunc={closeFunc} title=\"Obtain Portfolio\">\r\n                {!userInvestments ? <div className=\"loading\">Calculating...</div> : (\r\n                    <>\r\n                    <h1>To obtain this portfolio you must...</h1>\r\n\r\n                    {!toBuy || toBuy.length === 0  ? <h2>Buy Nothing!</h2> : (\r\n                        <>\r\n                        <h2>Buy...</h2>\r\n                        <ul>\r\n                            {toBuy.map((inv, index) => \r\n                                <li key={index} className=\"green\">{inv.numShares} share(s) in {inv.ticker}.</li>\r\n                            )}\r\n                        </ul>\r\n                        </>\r\n                    )}\r\n\r\n                    {!toSell || toSell.length === 0 ? <h2>And Sell Nothing!</h2> : (\r\n                        <>\r\n                        <h2>And Sell...</h2>\r\n                        <ul>\r\n                            {toSell.map((inv, index) => \r\n                                <li key={index} className=\"red\">{Math.abs(inv.numShares)} share(s) in {inv.ticker}.</li>\r\n                            )}\r\n                        </ul>\r\n                        </>\r\n                    )}\r\n\r\n                    <button onClick={this.obtainPortfolio}>Obtain Portfolio</button>\r\n                    </>\r\n                )}\r\n            </Modal>\r\n        );\r\n        \r\n    }\r\n}\r\n\r\nPortfolioModal.propTypes = {\r\n    popUp: PropTypes.func.isRequired,\r\n    closeFunc: PropTypes.func.isRequired,\r\n    user: PropTypes.object.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Plot from 'react-plotly.js';\r\nimport axios from 'axios';\r\nimport PortfolioModal from './PortfolioModal';\r\n\r\nexport default class OptimiseGraph extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            error: null,\r\n            portfolios: null,\r\n            portfolio: null, // portfolio clicked\r\n        };\r\n    }\r\n\r\n    // update the portfolios held by the state\r\n    componentDidMount(){\r\n        const {settings, user} = this.props;\r\n\r\n        // generate string of tickers separated by - for url params\r\n        var tickers = \"\";\r\n        settings.tickers.forEach(ticker => tickers += ticker + \"-\");\r\n        tickers = tickers.substr(0, tickers.length - 1);\r\n\r\n        // create a url param object with the tickers\r\n        const params = new URLSearchParams();\r\n        params.append('tickers', tickers);\r\n\r\n        // request portfolio data\r\n        axios.get(`${process.env.REACT_APP_API_PATH}/data/portfolios`, {\r\n            headers: { Authorization: `Bearer ${user.token}`},\r\n            params: params\r\n        }).then(res => {\r\n            this.setState({portfolios: res.data});\r\n        }).catch(err => {\r\n            this.setState({error: err});\r\n        });\r\n    }\r\n\r\n    // returns a list of datasets to be visualised (eff/noteff)\r\n    getDatasets = () => {\r\n        const {settings} = this.props;\r\n        const {portfolios} = this.state;\r\n\r\n        const xEff = portfolios.filter(p => p.efficient).map(p => p[settings.x]);\r\n        const yEff = portfolios.filter(p => p.efficient).map(p => p[settings.y]);\r\n        const zEff = portfolios.filter(p => p.efficient).map(p => p[settings.z]);\r\n\r\n        const effDataset = {\r\n            customdata: portfolios,\r\n            x: xEff,\r\n            y: yEff,\r\n            z: zEff,\r\n            text: portfolios.map(portfolio => portfolio.asString),\r\n            type: 'scatter3d',\r\n            mode: 'markers',\r\n            marker: {color: \"gold\", size: 5},\r\n            hovertemplate: `<b>${settings.z}: %{z}%</b><br>`\r\n                + `<b>${settings.x}: %{x}%</b><br>`\r\n                + `<b>${settings.y}: %{y}%</b><br>`\r\n                + `%{text}<br>`\r\n                + `<b>Click for more details.</b>`\r\n                + `<extra></extra>`\r\n        }\r\n\r\n        var datasets = [effDataset];\r\n        if(!settings.optimalOnly){\r\n            const xNotEff = portfolios.filter(p => !p.efficient).map(p => p[settings.x]);\r\n            const yNotEff = portfolios.filter(p => !p.efficient).map(p => p[settings.y]);\r\n            const zNotEff = portfolios.filter(p => !p.efficient).map(p => p[settings.z]);\r\n            \r\n            var notEffDataset = JSON.parse(JSON.stringify(effDataset));\r\n            notEffDataset.x = xNotEff;\r\n            notEffDataset.y = yNotEff;\r\n            notEffDataset.z = zNotEff;\r\n            notEffDataset.marker = {color: \"blue\", size: 5};\r\n\r\n            datasets.push(notEffDataset);\r\n        }\r\n\r\n        return datasets;\r\n    }\r\n    \r\n    openPortfolio = (portfolio) => {\r\n        this.setState({portfolio: portfolio});\r\n    }\r\n\r\n    closePortfolio = () => {\r\n        this.setState({portfolio: null});\r\n    }\r\n\r\n    render = () => {\r\n        const {settings, popUp, user} = this.props;\r\n        const {portfolios, error, portfolio} = this.state;\r\n\r\n        if(error) {\r\n            return <div>{error.message}</div>;\r\n        } else if(!portfolios) {\r\n            return <div className=\"graph grid-item\"><h1>Loading Portfolios...</h1></div>\r\n        } else{\r\n            return (\r\n                <>\r\n                {portfolio ? \r\n                    <PortfolioModal \r\n                        popUp={popUp}\r\n                        closeFunc={this.closePortfolio} \r\n                        portfolio={portfolio} \r\n                        user={user}\r\n                    /> \r\n                : null}\r\n                \r\n                <div className=\"graph grid-item\">\r\n                    <h1>Portfolios</h1>\r\n                    <Plot \r\n                        data={this.getDatasets()}\r\n        \r\n                        layout={{\r\n                            scene: {\r\n                                xaxis: { title: settings.x, autorange: \"reversed\"},\r\n                                yaxis: { title: settings.y, autorange: \"reversed\" },  \r\n                                zaxis: { title: settings.z },   \r\n                                camera: {\r\n                                    // change these based upon window width...?\r\n                                    center: {x: 0.05, y: 0, z: -0.15},\r\n                                    eye: {x: 1.3, y: 1.3, z: 0.1}\r\n                                }\r\n                            },      \r\n                            margin: {l: 0.1, r: 0.1, b: 0.1, t: 0.1},\r\n                            hovermode: 'closest',\r\n                            hoverlabel: { bgcolor: \"#FFF\" },\r\n                            showlegend: false\r\n                        }}\r\n        \r\n                        onClick={(data) => {\r\n                            // timeout to stop onclick firing multiple times bug\r\n                            setTimeout(() => {\r\n                                this.openPortfolio(data.points[0].customdata);\r\n                            }, 125);\r\n                        }}\r\n        \r\n                        useResizeHandler={true}\r\n                        config={{displayModeBar: false}}\r\n                        style={{margin: 'auto', width: '100%', maxWidth: '600px', height: '500px'}}\r\n                    />\r\n                </div>\r\n                </>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\n\r\nOptimiseGraph.propTypes = {\r\n    popUp: PropTypes.func.isRequired,\r\n    user: PropTypes.object.isRequired,\r\n    settings: PropTypes.object.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport CompaniesSelect from '../../CompaniesSelect';\r\n\r\nexport default class Tickers extends React.Component {\r\n\r\n    render = () => {\r\n        const {tickers, handleChange, removeTicker} = this.props;\r\n\r\n        return (\r\n            <div className=\"tickers\">\r\n                <CompaniesSelect handleChange={handleChange}/>\r\n\r\n                {Array.from(tickers).map((ticker, index) => \r\n                    <span className=\"ticker\" key={index}>\r\n                        {ticker} \r\n                        <button className=\"close-button\" onClick={(e) => {\r\n                            e.preventDefault();\r\n                            removeTicker(ticker);\r\n                        }}>\r\n                            <i className=\"fa fa-times\"/>\r\n                        </button>\r\n                    </span>\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nTickers.propTypes = {\r\n    handleChange: PropTypes.func.isRequired,\r\n    removeTicker: PropTypes.func.isRequired,\r\n    tickers: PropTypes.object.isRequired\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Axis extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n            // map of titles to portfolio object attributes\r\n            axes: [['standardDeviation', 'Standard Deviation'], \r\n                  ['expectedDividendYield', 'Expected Dividend Yield'],\r\n                  ['expectedReturn', 'Expected Return']]\r\n        };\r\n    }\r\n\r\n    render = () => {\r\n        const {axes} = this.state;\r\n        const {name, handleChange, selected} = this.props;\r\n\r\n        return (\r\n            <div className=\"tickers\">\r\n                <label>{name.toUpperCase()} Axis</label>\r\n                <select name={name} onChange={handleChange} defaultValue={axes[selected][0]}>\r\n                    {axes.map((axis, index) => <option key={index} value={axis[0]}>{axis[1]}</option>)}\r\n                </select>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nAxis.propTypes = {\r\n    name: PropTypes.string.isRequired,\r\n    selected: PropTypes.number.isRequired,\r\n    handleChange: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Tickers from './Tickers';\r\nimport Axis from './Axis';\r\n\r\nexport default class OptimiseSettings extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            tickers: new Set(),\r\n            x: 'standardDeviation',\r\n            y: 'expectedDividendYield',\r\n            z: 'expectedReturn',\r\n            optimalOnly: true,\r\n        };\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        if(e.target.name === 'ticker'){\r\n            const tickers = this.state.tickers;\r\n\r\n            const max = 5;\r\n            if(tickers.size === max){\r\n                this.props.popUp(`You can only add ${max} stocks to a portfolio.`, true);\r\n            }else {\r\n                tickers.add(e.target.value);\r\n                this.setState({tickers: tickers});\r\n            }\r\n        } else if(e.target.name === 'optimalOnly'){\r\n            this.setState({optimalOnly: !e.target.checked});\r\n        } else {\r\n            this.setState({[e.target.name]: e.target.value});\r\n        }\r\n    }\r\n\r\n    removeTicker = (ticker) => {\r\n        const tickers = this.state.tickers;\r\n        tickers.delete(ticker);\r\n        this.setState({tickers: tickers});\r\n    }\r\n\r\n    loadVisualisation = (e) => {\r\n        e.preventDefault();\r\n        this.props.updateSettings({\r\n            tickers: this.state.tickers,\r\n            x: this.state.x,\r\n            y: this.state.y,\r\n            z: this.state.z,\r\n            optimalOnly: this.state.optimalOnly\r\n        });\r\n    }\r\n\r\n    render = () => {\r\n        const {tickers} = this.state;\r\n\r\n        return (\r\n            <div className=\"settings grid-item\">\r\n                <h1>Settings</h1>\r\n\r\n                <form>\r\n                    <Tickers tickers={tickers} handleChange={this.handleChange} removeTicker={this.removeTicker}/>\r\n                    <Axis name=\"x\" selected={0} handleChange={this.handleChange}/>\r\n                    <Axis name=\"y\" selected={1} handleChange={this.handleChange}/>\r\n                    <Axis name=\"z\" selected={2} handleChange={this.handleChange}/>\r\n                    \r\n                    <label style={{display: \"inline\", marginRight: \"1em\"}}>Display Non-Optimal Portfolios</label>\r\n                    <input \r\n                        style={{width: \"fit-content\", transform: \"scale(1.5)\"}} \r\n                        type=\"checkbox\" name=\"optimalOnly\" \r\n                        onChange={this.handleChange}\r\n                    />\r\n\r\n                    <button className=\"optimise-button\" onClick={this.loadVisualisation}>View Optimal Portfolios</button>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nOptimiseSettings.propTypes = {\r\n    popUp: PropTypes.func.isRequired,\r\n    updateSettings: PropTypes.func.isRequired,\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport OptimiseGraph from './OptimiseGraph';\r\nimport OptimiseSettings from './OptimiseSettings';\r\n\r\nexport default class OptimisePage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            settings: null,\r\n        };\r\n    }\r\n\r\n    updateSettings = (settings) => {\r\n        if(settings.tickers.size === 0 || !settings.x || !settings.y || !settings.z) {\r\n            this.props.popUp('You must select 1 or more tickers and a value for each axis.', true);\r\n            return;\r\n        }\r\n\r\n        // set to null and update 5ms later to trigger reload\r\n        this.setState({settings: null});\r\n        setTimeout(() => {\r\n            this.setState({settings: settings});\r\n        }, 5);\r\n    }\r\n\r\n    render = () => {\r\n        const {user, popUp} = this.props;\r\n        const {settings} = this.state;\r\n\r\n        return (\r\n            <div className=\"optimise wrapper\">    \r\n                <div className=\"grid\">\r\n                    <OptimiseSettings updateSettings={this.updateSettings} popUp={popUp}/>\r\n\r\n                    {settings ? \r\n                        <OptimiseGraph\r\n                            user={user} \r\n                            settings={settings}\r\n                            popUp={popUp}\r\n                        />\r\n                    : null}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nOptimisePage.propTypes = {\r\n    popUp: PropTypes.func.isRequired,\r\n    user: PropTypes.object.isRequired\r\n};\r\n","import React from 'react';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nimport Navigation from './components/Navigation';\r\nimport PopUp from './components/PopUp';\r\nimport HomePage from './components/pages/Home/HomePage';\r\nimport AccountPage from './components/pages/Account/AccountPage';\r\nimport PortfolioPage from './components/pages/Portfolio/PortfolioPage';\r\nimport OptimisePage from './components/pages/Optimise/OptimisePage';\r\n\r\nexport default class App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            currentPage: \"home\",\r\n            popUps: [],\r\n            user: null\r\n        };\r\n    }\r\n\r\n    // opens the specified page (home/dashboard/optimise)\r\n    openPage = (page) => this.setState({currentPage: page});\r\n\r\n\r\n    // adds a user object to the state based upon json web tokens\r\n    login = (smallToken, largeToken) => {\r\n        var user = jwt_decode(largeToken);\r\n        user['token'] = smallToken;\r\n        this.setState({user: user});\r\n    }\r\n    \r\n    // removes the user from the state and returns to the home page\r\n    logout = () => this.setState({user: null, currentPage: \"home\"});\r\n\r\n    // adds a message to the pop-up\r\n    addPopUp = (message, error) => {\r\n        // create a popUp object\r\n        const popUp = {message: message, error: error};\r\n\r\n        // add to the popUps list\r\n        var popUps = this.state.popUps;\r\n        popUps.push(popUp);\r\n        this.setState({popUps: popUps});\r\n\r\n        // remove the popUp after 4 seconds...\r\n        setTimeout(() => {\r\n            this.removePopUp(popUp);\r\n        }, 4000);\r\n    }\r\n\r\n    // removes the specified popUp\r\n    removePopUp = (popUp) => {\r\n        var popUps = this.state.popUps;\r\n        if(popUps.includes(popUp)) {\r\n            popUps = popUps.filter(p => p !== popUp);\r\n            this.setState({popUps: popUps});\r\n        }\r\n    }\r\n\r\n    render = () => {\r\n        const {currentPage, popUps, user} = this.state;\r\n        \r\n        return (\r\n            <>\r\n            <Navigation user={user} openPage={this.openPage} page={currentPage} logout={this.logout}/>\r\n            {popUps ? popUps.map((popUp, index) => \r\n                <PopUp key={index} closeEarly={this.removePopUp}>{popUp}</PopUp>) \r\n            : null}\r\n\r\n            {currentPage === \"home\" ? <HomePage openPage={this.openPage}/> : null}\r\n\r\n            {currentPage === \"account\" ? \r\n                <AccountPage login={this.login} popUp={this.addPopUp} openPage={this.openPage}/> \r\n            : null}\r\n\r\n            {currentPage === \"portfolio\" ? <PortfolioPage user={user} popUp={this.addPopUp}/> : null}\r\n            {currentPage === \"optimise\" ? <OptimisePage user={user} popUp={this.addPopUp}/> : null}\r\n            </>\r\n        )\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles.scss';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}